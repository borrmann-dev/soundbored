# Soundbored Helm Chart Values
image:
  repository: ghcr.io/borrmann-dev/soundbored
  pullPolicy: Always
  tag: "latest"

# Application port (Phoenix default)
containerPort: 4000

# Environment variables (non-sensitive)
# PHX_HOST is automatically set from ingress.hosts[0].host
env:
  PHX_SERVER: "true"
  SCHEME: "https"

# Secrets are defined in secrets.yaml (gitignored)
# See secrets.yaml.example for required values
# Install with: ./install.sh -f secrets.yaml

# Persistent storage for uploads and SQLite database
persistence:
  enabled: true
  storageClass: "longhorn"
  size: 30Gi

ingress:
  enabled: true
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
  hosts:
    - host: soundbored.k8s.borrmann.dev
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: soundbored-tls
      hosts:
        - soundbored.k8s.borrmann.dev
